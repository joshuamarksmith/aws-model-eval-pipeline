"use strict";var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var h=(o,n)=>{for(var e in n)i(o,e,{get:n[e],enumerable:!0})},g=(o,n,e,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of p(n))!m.call(o,t)&&t!==e&&i(o,t,{get:()=>n[t],enumerable:!(a=d(n,t))||a.enumerable});return o};var k=o=>g(i({},"__esModule",{value:!0}),o);var M={};h(M,{handler:()=>w});module.exports=k(M);var c=require("@aws-sdk/client-bedrock-runtime"),u=new c.BedrockRuntimeClient({}),y="Summarise the impact of Basel\xA0III on global capital markets in one paragraph.",I=10,f=1200,w=async o=>{console.log("Raw event:",JSON.stringify(o));let e=(o.detail??{}).modelId??"anthropic.claude-3-5-haiku-20241022-v1:0";console.log(`Invoking Bedrock model: ${e}`);let a=[];for(let s=0;s<I;s++){let l=Date.now();await u.send(new c.InvokeModelCommand({modelId:e,contentType:"application/json",accept:"application/json",body:JSON.stringify({prompt:y,max_tokens_to_sample:64})})),a.push(Date.now()-l)}a.sort((s,l)=>s-l);let t=a[Math.floor(.95*a.length)],r=t<=f;return{check:"LatencyP95",score:t,passed:r}};0&&(module.exports={handler});
